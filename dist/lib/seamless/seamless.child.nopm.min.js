!function(e,t){"use strict";e.SeamlessBase={isNumeric:function(e){return e-parseFloat(e)+1>=0},getElement:function(e){var s="querySelectorAll";0===e.indexOf("#")&&(s="getElementById",e=e.substr(1,e.length));var n=t[s](e);return n&&"querySelectorAll"===s?n[0]:n},elementHeight:function(e){var s=0,n=0;return t.all?(s=e.currentStyle.height,this.isNumeric(s)||(s=e.offsetHeight),s=parseInt(s,10),n=parseInt(e.currentStyle.marginTop,10)+parseInt(e.currentStyle.marginBottom,10)):(s=parseInt(t.defaultView.getComputedStyle(e,"").getPropertyValue("height"),10),n=parseInt(t.defaultView.getComputedStyle(e,"").getPropertyValue("margin-top"),10)+parseInt(t.defaultView.getComputedStyle(e,"").getPropertyValue("margin-bottom"),10)),s+n},hasClass:function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e.classList?e.classList.add(t):this.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(e.classList)e.classList.remove(t);else if(this.hasClass(e,t)){var s=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(s," ")}},getParam:function(t,s){s=s||e.location.search;var n="[?&]"+t+"=([^&#]*)",a=new RegExp(n),i=a.exec(s);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},filterText:function(e){return e.replace(/[<>]/g,"")},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},setStyle:function(t,s){s.length>0&&(s="string"==typeof s?s:s.join(" "),s=e.SeamlessBase.filterText(s),t.styleSheet?t.styleSheet.cssText=s:t.innerHTML=s)},injectStyles:function(s){var n=this.getElement("style#injected-styles");if(n)e.SeamlessBase.setStyle(n,s);else{var a=t.createElement("style");a.setAttribute("type","text/css"),a.setAttribute("id","injected-styles"),e.SeamlessBase.setStyle(a,s);var i=t.head||t.getElementsByTagName("head")[0];i&&i.appendChild(a)}},injectAppendedStyles:function(e){var s=e.join(";"),n=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=s:a.appendChild(t.createTextNode(s)),n.appendChild(a)}}}(window,document),function(e){"use strict";e.SeamlessConnection=function(e,t){this.id=0,this.target=e,this.url=t,this.active=!1,this.queue=[]},e.SeamlessConnection.prototype.send=function(t){this.active&&this.target?(t=t||{},t.hasOwnProperty("data")||(t={data:t}),t.target=this.target,t.url=this.url||"index.html",t.type=t.type||"seamless_data",t.data=t.data||{},t.data.__id=this.id,e.pm(t)):this.queue.push(t)},e.SeamlessConnection.prototype.receive=function(t,s){"function"==typeof t&&(s=t,t="seamless_data");var n=this;e.pm.bind(t,function(e,t){return!(!e.__id||e.__id!==n.id)&&s(e,t)})},e.SeamlessConnection.prototype.setActive=function(e){if(this.active=e,this.queue.length>0){for(var t in this.queue)this.send(this.queue[t]);this.queue=[],this.queue.length=0}}}(window),function(e,t,s){"use strict";if(!e.hasOwnProperty("pm"))return void console.log("You must install the postmessage.js module to use seamless.js.");s.seamless=e.seamless={options:{url:"",container:"body",update:200,allowStyleInjection:!1,allowAppendedStyleInjection:!1,requireCookies:!1,cookieFallbackMsg:"Your browser requires this page to be opened in a separate window.",cookieFallbackLinkMsg:"Click Here",cookieFallbackAfterMsg:" to open in a separate window.",onUpdate:null,onConnect:null},connect:function(s){s=s||{};for(var n in s)this.options.hasOwnProperty(n)&&(this.options[n]=s[n]);s=this.options;var a=new e.SeamlessConnection(e.parent,s.url),i=!1;a.setActive(!0),s.requireCookies&&(t.cookie="cookieTest=1",-1===t.cookie.indexOf("cookieTest")&&function(e,t,s){i=!0,a.send({type:"seamless_error",data:{msg:e,linkText:t,afterText:s}})}(s.cookieFallbackMsg,s.cookieFallbackLinkMsg,s.cookieFallbackAfterMsg));var o=e.SeamlessBase.getParam("noiframe").toString();if("1"===o||"true"===o.toLowerCase())a.send({type:"seamless_noiframe",data:{href:e.location.href}});else{var l=!1,r=s.container,c=0,u=0,d=function(){if(!i){u&&clearTimeout(u);var t=e.SeamlessBase.elementHeight(e.SeamlessBase.getElement(r));if(!l&&c!==t){l=!0;var n={height:t};s.onUpdate&&s.onUpdate(n),a.send({type:"seamless_update",data:n,success:function(e){c=e.height,l=!1}})}u=setTimeout(d,s.update)}},p=function(e){i||(e=e||0,a.id||(a.send({type:"seamless_ready",data:{}}),e<50&&setTimeout(function(){p(++e)},200)))};e.pm.bind("seamless_styles",function(t){s.allowStyleInjection&&e.SeamlessBase.injectStyles(t),s.allowAppendedStyleInjection&&e.SeamlessBase.injectAppendedStyles(t),d()}),e.pm.bind("seamless_connect",function(n,i){a.id=n.id,s.onConnect&&s.onConnect(n);var o=t.body.getAttribute("style");return t.body.setAttribute("style","overflow:hidden;"+o),t.body.setAttribute("scroll","no"),s.allowStyleInjection&&e.SeamlessBase.injectStyles(n.styles),d(),n}),p()}return a}}}(window,document,"undefined"==typeof jQuery?{}:jQuery);